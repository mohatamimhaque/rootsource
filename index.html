<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RootSource AI</title>
    <link rel="stylesheet" href="assets/css/google-font.css">
    <link rel="stylesheet" href="assets/css/style.css">
    
</head>
<body>
    <div class="overlay"></div>
    <div class="container">
        <div class="logo">
            <img src="logo.png" alt="RootSource AI Logo">
            <h1>AI</h1>
        </div>
        <div class="tagline">Ask your farming-related questions in any language, and get accurate answers!</div>
        <div class="developer-info">Developed by: Team "BlueBot"</div>
        <div class="chat-area">


            
            <!-- <div class="input-box">
                <div class="message">
                    <p>

                        what is rice
                    </div>
                    </p>
                <div class="icon-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 11.25a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" /><path fill-rule="evenodd" d="M2.513 14.077c.427 1.344 1.144 2.524 2.158 3.493.593.565 1.25.998 1.942 1.353A9.998 9.998 0 0 0 12 22.5c2.686 0 5.224-.809 7.387-2.378a7.522 7.522 0 0 1-.954-1.076l-.41-.41a5.158 5.158 0 0 0-1.077-.92c-.657-.362-1.378-.588-2.127-.674a18.284 18.284 0 0 0-1.923-.205 18.423 18.423 0 0 0-3.328.096c-.76.088-1.503.313-2.164.675a5.21 5.21 0 0 0-1.085.92l-.41.41c-.244.246-.465.48-.654.708a10.045 10.045 0 0 0-.847.962 10.012 10.012 0 0 0-.962.847l-.025.027a3.024 3.024 0 0 1-.724.593c-.633.364-1.348.59-2.091.674-.63.074-1.295.06-1.92-.046-.226-.038-.45-.074-.674-.11ZM3.75 7.5c0-.621.504-1.125 1.125-1.125h13.5c.621 0 1.125.504 1.125 1.125v6.75a9.996 9.996 0 0 0-2.07-.363 18.204 18.204 0 0 1-3.328-.096 18.416 18.416 0 0 1-1.923-.205c-.749-.086-1.47-.312-2.127-.674a5.158 5.158 0 0 0-1.077-.92l-.41-.41a7.522 7.522 0 0 1-.954-1.076C5.224 15.06 4.417 12.52 4.417 10.5a7.5 7.5 0 0 1-1.125-3V7.5Zm0 0c-.621 0-1.125.504-1.125 1.125v.75c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5V8.625c0-.621-.504-1.125-1.125-1.125H3.75Z" clip-rule="evenodd" /></svg>
                </div>
            </div>
            <div class="chat-message">
                <div class="icon-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.061-1.061l-1.59 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM12 1.5a.75.75 0 0 0-.75.75V3a.75.75 0 0 0 1.5 0V2.25a.75.75 0 0 0-.75-.75ZM6.166 18.894a.75.75 0 0 0 1.061 1.06l1.59-1.59a.75.75 0 0 0-1.06-1.061l-1.591 1.59ZM18.894 17.832a.75.75 0 0 1 0 1.062l-1.59 1.59a.75.75 0 0 1-1.061-1.06l1.59-1.59a.75.75 0 0 1 1.062 0ZM12 22.5a.75.75 0 0 0 .75-.75v-2.25a.75.75 0 0 0-1.5 0v2.25c0 .414.336.75.75.75ZM22.5 12a.75.75 0 0 0-.75-.75h-2.25a.75.75 0 0 0 0 1.5h2.25c.414 0 .75-.336.75-.75ZM1.5 12a.75.75 0 0 0 .75.75h2.25a.75.75 0 0 0 0-1.5H2.25c-.414 0-.75.336-.75.75ZM17.832 6.166a.75.75 0 0 1 1.062 0l1.59 1.59a.75.75 0 1 1-1.06 1.061l-1.59-1.59a.75.75 0 0 1 0-1.061ZM6.166 5.105a.75.75 0 0 1 1.06-1.06l1.59 1.59a.75.75 0 0 1-1.06 1.061l-1.591-1.59Z" /></svg>
                </div>
                <div class="message-content">
                    <div class="chat-header">
                        <span class="label detected">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.513 14.077c.427 1.344 1.144 2.524 2.158 3.493.593.565 1.25.998 1.942 1.353A9.998 9.998 0 0 0 12 22.5c2.686 0 5.224-.809 7.387-2.378a7.522 7.522 0 0 1-.954-1.076l-.41-.41a5.158 5.158 0 0 0-1.077-.92c-.657-.362-1.378-.588-2.127-.674a18.284 18.284 0 0 0-1.923-.205 18.423 18.423 0 0 0-3.328.096c-.76.088-1.503.313-2.164.675a5.21 5.21 0 0 0-1.085.92l-.41.41c-.244.246-.465.48-.654.708a10.045 10.045 0 0 0-.847.962 10.012 10.012 0 0 0-.962.847l-.025.027a3.024 3.024 0 0 1-.724.593c-.633.364-1.348.59-2.091.674-.63.074-1.295.06-1.92-.046-.226-.038-.45-.074-.674-.11ZM3.75 7.5c0-.621.504-1.125 1.125-1.125h13.5c.621 0 1.125.504 1.125 1.125v6.75a9.996 9.996 0 0 0-2.07-.363 18.204 18.204 0 0 1-3.328-.096 18.416 18.416 0 0 1-1.923-.205c-.749-.086-1.47-.312-2.127-.674a5.158 5.158 0 0 0-1.077-.92l-.41-.41a7.522 7.522 0 0 1-.954-1.076C5.224 15.06 4.417 12.52 4.417 10.5a7.5 7.5 0 0 1-1.125-3V7.5Zm0 0c-.621 0-1.125.504-1.125 1.125v.75c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5V8.625c0-.621-.504-1.125-1.125-1.125H3.75Z" clip-rule="evenodd" /></svg>
                             Detected Language: EN
                        </span>
                        <span class="label translated">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0Zm18.528 2.222a.75.75 0 0 0-1.06 1.06l1.22 1.22a.75.75 0 0 0 1.06-1.06l-1.22-1.22Z" clip-rule="evenodd" /><path d="M11.25 17.25a.75.75 0 0 0-.75.75v2.25a.75.75 0 0 0 1.5 0V18a.75.75 0 0 0-.75-.75Z" /></svg>
                             
                             Translated Query: 

                    Rice is the edible seed (grain) of the grass species, Oryza sativa (Asian rice) and, to a lesser extent, Oryza glaberrima (African rice). It is cultivated worldwide, often in flooded paddies or dry fields, and serves as a staple food for more than half of the global population, providing a major source of carbohydrates, calories, and some protein. After harvesting, the rice grain is milled to remove the husk (producing brown rice) and sometimes the bran layer (producing white rice), and it is used in a wide variety of culinary dishes.

                        </span>
                    </div>
                    <div class="chat-bubble">
                        <p style="text-align: justify;"><strong>Rice</strong> is the edible seed (grain) of the grass species, <i>Oryza sativa</i> (Asian rice) and, to a lesser extent, <i>Oryza glaberrima</i> (African rice). It is cultivated worldwide, often in flooded paddies or dry fields, and serves as a staple food for more than half of the global population, providing a major source of carbohydrates, calories, and some protein. After harvesting, the rice grain is milled to remove the husk (producing brown rice) and sometimes the bran layer (producing white rice), and it is used in a wide variety of culinary dishes.</p>
                    </div>
                </div>
            </div> -->

            <!-- <div class="chat-message fourdot">
                <div class="icon-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.061-1.061l-1.59 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM12 1.5a.75.75 0 0 0-.75.75V3a.75.75 0 0 0 1.5 0V2.25a.75.75 0 0 0-.75-.75ZM6.166 18.894a.75.75 0 0 0 1.061 1.06l1.59-1.59a.75.75 0 0 0-1.06-1.061l-1.591 1.59ZM18.894 17.832a.75.75 0 0 1 0 1.062l-1.59 1.59a.75.75 0 0 1-1.061-1.06l1.59-1.59a.75.75 0 0 1 1.062 0ZM12 22.5a.75.75 0 0 0 .75-.75v-2.25a.75.75 0 0 0-1.5 0v2.25c0 .414.336.75.75.75ZM22.5 12a.75.75 0 0 0-.75-.75h-2.25a.75.75 0 0 0 0 1.5h2.25c.414 0 .75-.336.75-.75ZM1.5 12a.75.75 0 0 0 .75.75h2.25a.75.75 0 0 0 0-1.5H2.25c-.414 0-.75.336-.75.75ZM17.832 6.166a.75.75 0 0 1 1.062 0l1.59 1.59a.75.75 0 1 1-1.06 1.061l-1.59-1.59a.75.75 0 0 1 0-1.061ZM6.166 5.105a.75.75 0 0 1 1.06-1.06l1.59 1.59a.75.75 0 0 1-1.06 1.061l-1.591-1.59Z" /></svg>
                </div>
                <div class="message-content">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div> -->





        </div>
    </div>
    <div class="main-input-container">
        <div class="input-box">
            <input type="text" placeholder="Ask your farming-related question here (in any language)..." id="prompt">
            <button id="sendBtn">
                <div style="width:40px">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3.478 2.405a.75.75 0 0 0-.926.94l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.981.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.405Z" /></svg>
                </div>
            </button>
        </div>

        <button class="mic-icon commonBtn" id="voice_search">
            <div style="width: 40px;">

                <i class="material-icons">mic</i>
            </div>
            <span>Search with your voice</span>
      </button>
    </div>


    <div id="microphone" class="">
    <div class="recoder">
      <div class="close"><span></span></div>
      <select name="lang" id="lang">
        <option value="en-US" selected>English - US</option>
        <option value="bn-BD">বাংলা</option>
        <option value="hi-IN">हिंदी</option>
        <option value="ur-PK">اردو</option>
        <option value="fr-FR">French - FR</option>
        <option value="pt-PT">Português - PT</option>
      </select>
      <p id="recoredText"></p>
      <button id="speakBtn"><i class="material-icons">mic</i></button>
    </div>
  </div>


  <script src="assets/js/jquery.js"></script>
  <script src="assets/js/script.js"></script>


<script>
$(document).ready(function () {
    let flag = 1;

    // Utility Functions
    function getPromptText() {
        return $('#prompt').val().trim();
    }

    function clearPrompt() {
        $('#prompt').val('');
    }

    function setButtonsDisabled(disabled = true) {
        $('#sendBtn').prop('disabled', disabled);
        $('#voice_search').prop('disabled', disabled);
    }

    function appendUserMessage(text) {
        $(".chat-area").append(`
            <div class="input-box">
                <div class="message"><p>${text}</p></div>
                <div class="icon-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 11.25a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" /><path fill-rule="evenodd" d="M2.513 14.077c.427 1.344 1.144 2.524 2.158 3.493.593.565 1.25.998 1.942 1.353A9.998 9.998 0 0 0 12 22.5c2.686 0 5.224-.809 7.387-2.378a7.522 7.522 0 0 1-.954-1.076l-.41-.41a5.158 5.158 0 0 0-1.077-.92c-.657-.362-1.378-.588-2.127-.674a18.284 18.284 0 0 0-1.923-.205 18.423 18.423 0 0 0-3.328.096c-.76.088-1.503.313-2.164.675a5.21 5.21 0 0 0-1.085.92l-.41.41c-.244.246-.465.48-.654.708a10.045 10.045 0 0 0-.847.962 10.012 10.012 0 0 0-.962.847l-.025.027a3.024 3.024 0 0 1-.724.593c-.633.364-1.348.59-2.091.674-.63.074-1.295.06-1.92-.046-.226-.038-.45-.074-.674-.11ZM3.75 7.5c0-.621.504-1.125 1.125-1.125h13.5c.621 0 1.125.504 1.125 1.125v6.75a9.996 9.996 0 0 0-2.07-.363 18.204 18.204 0 0 1-3.328-.096 18.416 18.416 0 0 1-1.923-.205c-.749-.086-1.47-.312-2.127-.674a5.158 5.158 0 0 0-1.077-.92l-.41-.41a7.522 7.522 0 0 1-.954-1.076C5.224 15.06 4.417 12.52 4.417 10.5a7.5 7.5 0 0 1-1.125-3V7.5Zm0 0c-.621 0-1.125.504-1.125 1.125v.75c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5V8.625c0-.621-.504-1.125-1.125-1.125H3.75Z" clip-rule="evenodd" /></svg>

                </div>
            </div>
        `);
    }

    function appendBotMessage(reply, detectedLang = "EN", translatedQuery = "") {
                removeDelayAnimation();

        $(".chat-area").append(`
            <div class="chat-message">
                <div class="icon-wrapper">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.061-1.061l-1.59 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM12 1.5a.75.75 0 0 0-.75.75V3a.75.75 0 0 0 1.5 0V2.25a.75.75 0 0 0-.75-.75ZM6.166 18.894a.75.75 0 0 0 1.061 1.06l1.59-1.59a.75.75 0 0 0-1.06-1.061l-1.591 1.59ZM18.894 17.832a.75.75 0 0 1 0 1.062l-1.59 1.59a.75.75 0 0 1-1.061-1.06l1.59-1.59a.75.75 0 0 1 1.062 0ZM12 22.5a.75.75 0 0 0 .75-.75v-2.25a.75.75 0 0 0-1.5 0v2.25c0 .414.336.75.75.75ZM22.5 12a.75.75 0 0 0-.75-.75h-2.25a.75.75 0 0 0 0 1.5h2.25c.414 0 .75-.336.75-.75ZM1.5 12a.75.75 0 0 0 .75.75h2.25a.75.75 0 0 0 0-1.5H2.25c-.414 0-.75.336-.75.75ZM17.832 6.166a.75.75 0 0 1 1.062 0l1.59 1.59a.75.75 0 1 1-1.06 1.061l-1.59-1.59a.75.75 0 0 1 0-1.061ZM6.166 5.105a.75.75 0 0 1 1.06-1.06l1.59 1.59a.75.75 0 0 1-1.06 1.061l-1.591-1.59Z" /></svg>

                </div>
                <div class="message-content">
                    <div class="chat-header">
                        <span class="label detected">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.513 14.077c.427 1.344 1.144 2.524 2.158 3.493.593.565 1.25.998 1.942 1.353A9.998 9.998 0 0 0 12 22.5c2.686 0 5.224-.809 7.387-2.378a7.522 7.522 0 0 1-.954-1.076l-.41-.41a5.158 5.158 0 0 0-1.077-.92c-.657-.362-1.378-.588-2.127-.674a18.284 18.284 0 0 0-1.923-.205 18.423 18.423 0 0 0-3.328.096c-.76.088-1.503.313-2.164.675a5.21 5.21 0 0 0-1.085.92l-.41.41c-.244.246-.465.48-.654.708a10.045 10.045 0 0 0-.847.962 10.012 10.012 0 0 0-.962.847l-.025.027a3.024 3.024 0 0 1-.724.593c-.633.364-1.348.59-2.091.674-.63.074-1.295.06-1.92-.046-.226-.038-.45-.074-.674-.11ZM3.75 7.5c0-.621.504-1.125 1.125-1.125h13.5c.621 0 1.125.504 1.125 1.125v6.75a9.996 9.996 0 0 0-2.07-.363 18.204 18.204 0 0 1-3.328-.096 18.416 18.416 0 0 1-1.923-.205c-.749-.086-1.47-.312-2.127-.674a5.158 5.158 0 0 0-1.077-.92l-.41-.41a7.522 7.522 0 0 1-.954-1.076C5.224 15.06 4.417 12.52 4.417 10.5a7.5 7.5 0 0 1-1.125-3V7.5Zm0 0c-.621 0-1.125.504-1.125 1.125v.75c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5V8.625c0-.621-.504-1.125-1.125-1.125H3.75Z" clip-rule="evenodd" /></svg>
                            Detected Language: ${detectedLang}
                            </span>
                        <span class="label translated">                           
                             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0Zm18.528 2.222a.75.75 0 0 0-1.06 1.06l1.22 1.22a.75.75 0 0 0 1.06-1.06l-1.22-1.22Z" clip-rule="evenodd" /><path d="M11.25 17.25a.75.75 0 0 0-.75.75v2.25a.75.75 0 0 0 1.5 0V18a.75.75 0 0 0-.75-.75Z" /></svg>
                            Translated Query: ${translatedQuery}
                        </span>
                    </div>
                    <div class="chat-bubble">
                        <p style="text-align: justify;">${reply}</p>
                    </div>
                </div>
            </div>
        `);
    }

    function addDelayAnimation(){
        $('.chat-area').append(`
         <div class="chat-message fourdot">
                <div class="icon-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.061-1.061l-1.59 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM12 1.5a.75.75 0 0 0-.75.75V3a.75.75 0 0 0 1.5 0V2.25a.75.75 0 0 0-.75-.75ZM6.166 18.894a.75.75 0 0 0 1.061 1.06l1.59-1.59a.75.75 0 0 0-1.06-1.061l-1.591 1.59ZM18.894 17.832a.75.75 0 0 1 0 1.062l-1.59 1.59a.75.75 0 0 1-1.061-1.06l1.59-1.59a.75.75 0 0 1 1.062 0ZM12 22.5a.75.75 0 0 0 .75-.75v-2.25a.75.75 0 0 0-1.5 0v2.25c0 .414.336.75.75.75ZM22.5 12a.75.75 0 0 0-.75-.75h-2.25a.75.75 0 0 0 0 1.5h2.25c.414 0 .75-.336.75-.75ZM1.5 12a.75.75 0 0 0 .75.75h2.25a.75.75 0 0 0 0-1.5H2.25c-.414 0-.75.336-.75.75ZM17.832 6.166a.75.75 0 0 1 1.062 0l1.59 1.59a.75.75 0 1 1-1.06 1.061l-1.59-1.59a.75.75 0 0 1 0-1.061ZM6.166 5.105a.75.75 0 0 1 1.06-1.06l1.59 1.59a.75.75 0 0 1-1.06 1.061l-1.591-1.59Z" /></svg>
                </div>
                <div class="message-content">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
        `);
        
        new Audio('assets/audio/message send.mp3').play();
    }

  

         function removeDelayAnimation() {
            $('.chat-area .fourdot').remove();
            new Audio('assets/audio/message-notification.mp3').play();
        }





    function appendErrorMessage(message = "Error: Could not connect to server.") {
                removeDelayAnimation();

        $(".chat-area").append(`
            <div class="chat-message">
                <div class="icon-wrapper">
                                                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.061-1.061l-1.59 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM12 1.5a.75.75 0 0 0-.75.75V3a.75.75 0 0 0 1.5 0V2.25a.75.75 0 0 0-.75-.75ZM6.166 18.894a.75.75 0 0 0 1.061 1.06l1.59-1.59a.75.75 0 0 0-1.06-1.061l-1.591 1.59ZM18.894 17.832a.75.75 0 0 1 0 1.062l-1.59 1.59a.75.75 0 0 1-1.061-1.06l1.59-1.59a.75.75 0 0 1 1.062 0ZM12 22.5a.75.75 0 0 0 .75-.75v-2.25a.75.75 0 0 0-1.5 0v2.25c0 .414.336.75.75.75ZM22.5 12a.75.75 0 0 0-.75-.75h-2.25a.75.75 0 0 0 0 1.5h2.25c.414 0 .75-.336.75-.75ZM1.5 12a.75.75 0 0 0 .75.75h2.25a.75.75 0 0 0 0-1.5H2.25c-.414 0-.75.336-.75.75ZM17.832 6.166a.75.75 0 0 1 1.062 0l1.59 1.59a.75.75 0 1 1-1.06 1.061l-1.59-1.59a.75.75 0 0 1 0-1.061ZM6.166 5.105a.75.75 0 0 1 1.06-1.06l1.59 1.59a.75.75 0 0 1-1.06 1.061l-1.591-1.59Z" /></svg>

                </div>
                <div class="message-content">
                    <div class="chat-bubble">
                        <p style="text-align: justify;">${message}</p>
                    </div>
                </div>
            </div>
        `);
    }

    // Press Enter to send message
    $('#prompt').on('keydown', function(e) {
        if (flag === 1 && (e.key === 'Enter' || e.keyCode === 13)) {
            e.preventDefault();
            const promptText = getPromptText();
            if (promptText.length > 1) {
                $('#sendBtn').click();
            }
        }
    });

    $('#sendBtn').click(async function() {
        const promptText = getPromptText();
        if (promptText.length <= 1) return;

        clearPrompt();
        setButtonsDisabled(true);
        flag = 0;

        appendUserMessage(promptText);
        addDelayAnimation();


        try {
            const response = await fetch("http://127.0.0.1:8000/chat", {
                method: "POST",
                headers: {"Content-Type": "application/json"},
                body: JSON.stringify({ message: promptText })
            });
            const data = await response.json();
            
            appendBotMessage(data.reply,data.detectedLang,data.translatedQuery);
        } catch (err) {
            console.error("Error:", err);
            appendErrorMessage();
            setButtonsDisabled(false);
            flag = 1;
        } finally {
            setButtonsDisabled(false);
            flag = 1;
        }
    });
});
</script>

</body>
</html>